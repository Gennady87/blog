# Установка и настройка плагина Git для Obsidian

---

1. Перейдите в настройки Obsidian ⚙︎
   
![[Screenshot 2024-11-23 at 00.13.22.png]]

2. В поле для поиска введите git -> установить -> включить 

![[Screenshot 2024-11-23 at 00.13.59.png]]

---

> [!info] Эта инструкция поможет настроить доступ к вашему GitHub-репозиторию, чтобы плагин git в Obsidian мог автоматически выполнять синхронизацию и команды commit/push/pull.
>   

### Теперь настроим доступ плагина к репозиторию

#### **1. Настройка Personal Access Token (PAT):**

Personal Access Token заменяет пароль для использования HTTPS. Вот как его настроить:

1. Перейдите на [страницу Personal Access Tokens](https://github.com/settings/tokens) на GitHub.
2. Нажмите **“Generate new token”** (или **“Generate new token (classic)”**, если используется классический формат).
3. Укажите описание токена, чтобы вы могли позже понять, для чего он был создан (например, “Obsidian Git Plugin”).
4. В разделе **Scopes** установите галочку на **repo** (это даст токену доступ к вашим репозиториям).
5. Нажмите **“Generate token”**.
6. Скопируйте сгенерированный токен. **Важно:** Он будет показан только один раз. Сохраните его в безопасном месте.

---

#### **2. Настройка Credential Helper в Git:**

Настройка Credential Helper, чтобы Git мог запомнить ваш токен и использовать его автоматически:

1. Откройте терминал.
2. Введите команду:

```bash
git config --global credential.helper store
```

> [!info] Альтернативы:
> - macOS: `git config --global credential.helper osxkeychain`
>  - Windows: `git config --global credential.helper manager-core`

- Использование `store` сохраняет токен в текстовом файле в незашифрованном виде, что может быть небезопасно для публичных компьютеров.

Это активирует Credential Helper, чтобы сохранить ваши учетные данные.

---

#### **3. Вручную выполните push из терминала:**

Теперь нужно вручную выполнить `git push`, чтобы сохранить ваши учетные данные:

1. Перейдите в каталог вашего репозитория:

```bash
cd /путь/к/вашему/репозиторию
```

2. Выполните команду для push изменений:

```bash
git push
```

1. Git запросит логин и пароль:
    
    - Введите ваш **GitHub username**.
    - В качестве пароля введите **скопированный Personal Access Token**.
2. После успешного выполнения команды ваши учетные данные будут сохранены.

---

#### 4. **Настройка плагина Git**

- Убедитесь, что плагин Git установлен и активирован:
    - Откройте Obsidian → Настройки → **Community Plugins** → Установите и включите плагин **git**.
- Перейдите в настройки плагина:
    - Включите **Pull changes on startup**, чтобы автоматически подтягивать изменения при запуске.
    - Задайте расписание для автоматического коммита и пуша изменений, если нужно.

1. Перейдите в настройки плагина

![[Screenshot 2024-11-23 at 00.15.06.png]]

2. Введите значение в поле **Auto commit-and-sync interval**  отличное от `0`, например `5` и активируйте **Auto commit-and-sync after stopping file edits**:

- Для активации функции автоматического коммита и синхронизацию каждые 5 минут после остановки редактирования.

![[Screenshot 2024-11-23 at 00.54.33.png]]

3. Активируйте **Pull on startup**:
   
   - Изменения из удаленного репозитория будут автоматически подтягиваться при запуске Obsidian.

4. Активируйте **Push on commit-and-sync**:
   
   - После каждого commit-and-sync изменения будут автоматически пушиться в удаленный репозиторий.

5. Активируйте **Pull on commit-and-sync**:
   
   - При выполнении команды **commit-and-sync** будут автоматически подтягиваться изменения из удалённого репозитория перед выполнением коммита и пуша.

![[Screenshot 2024-11-23 at 00.59.37.png]]
---

#### **5. Использование с плагином Obsidian Git:**

После выполнения описанных шагов плагин Obsidian Git автоматически использует сохраненные учетные данные при синхронизации и выполнении commit/push/pull.

---

### **Полезные советы:**

- Если позже вам потребуется заменить токен, просто повторите шаги 1–3 настройки Personal Access Token.
  
- Чтобы проверить текущую конфигурацию Credential Helper, выполните:

```bash
git config --get credential.helper
```

- Если вы хотите удалить сохраненные данные и перенастроить токен:
  
```bash
git credential-cache exit
```

- После настройки убедитесь, что ваш токен действует, выполнив:

```bash
git pull
```

Теперь ваш Personal Access Token настроен, и плагин Obsidian Git сможет работать с вашими репозиториями!

---